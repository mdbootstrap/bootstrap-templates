/*
 * bootstrap-tagsinput v0.1.1 by Tim Schlechter
 * 
 */
!function(a){"use strict";function b(b,c){this.$element=a(b),this.multiple="SELECT"===b.tagName&&b.getAttribute("multiple"),this.$container=a('<div class="bootstrap-tagsinput"><input size="1" type="text" /></div>'),this.$element.hide(),this.$element.after(this.$container),this.build(c)}function c(a,b){if("function"!=typeof a[b]){var c=a[b];a[b]=function(a){return a[c]}}}function d(a,b){if("function"!=typeof a[b]){var c=a[b];a[b]=function(){return c}}}function e(a){return a?i.text(a).html():""}function f(a){var b=0;if(document.selection){a.focus();var c=document.selection.createRange();c.moveStart("character",-a.value.length),b=c.text.length}else(a.selectionStart||"0"==a.selectionStart)&&(b=a.selectionStart);return b}var g={tagClass:function(){return"badge badge-info"},itemValue:function(a){return a?a.toString():a},itemText:function(a){return this.itemValue(a)},typeahead:{source:null,matcher:function(){return!0}}};b.prototype={constructor:b,add:function(b){var c=this;if(b===!1||b){if("object"==typeof b&&c.options.itemValue===g.itemValue)throw"Can't add objects when itemValue option is not set";if(!b.toString().match(/^\s*$/)){if("string"==typeof b&&"INPUT"===this.$element[0].tagName){var d=b.split(",");if(d.length>1){for(var f=0;f<d.length;f++)this.add(d[f]);return}}var h=this.options.itemValue;if(-1===a.inArray(h(b),a.map(c.items(),function(a){return h(a)}))){var i=a('<span class="tag '+e(c.options.tagClass(b))+'"><span class="text"></span><i class="icon-white icon-remove" data-role="remove"></i></span>');a(".text",i).text(c.options.itemText(b)),i.data("item",b),a("input",c.$container).before(i),"SELECT"!==c.$element[0].tagName||a('option[value="'+escape(c.options.itemValue(b))+'"]')[0]||c.$element.append(a('<option value="'+e(c.options.itemValue(b))+'" selected>'+e(b)+"</option>")),c.pushVal()}}}},remove:function(b){var c=this;a(".tag",c.$container).filter(function(){return a(this).data("item")===b}).remove(),"SELECT"===c.$element[0].tagName&&a("option",c.$element).filter(function(){return a(this).val()===c.options.itemValue(b)}).remove(),c.pushVal()},items:function(){var b=this;return a.map(a(".tag",b.$container),function(b){return a(b).data("item")})},pushVal:function(){var b=this,c=a.map(b.items(),function(a){return b.options.itemValue(a)});b.$element.val(c,!0).trigger("change")},build:function(b){var e=this;e.options=a.extend({},g,b),c(e.options,"itemValue"),c(e.options,"itemText"),c(e.options,"tagClass"),e.options.source&&(d(e.options,"source"),a("input",e.$container).typeahead({source:function(b,c){this.map={};var d=this.map;a.when(e.options.source(b)).then(function(a){for(var b=[],f=0;f<a.length;f++){var g=e.options.itemText(a[f]);d[g]=a[f],b.push(g)}c(b)})},updater:function(a){e.add(this.map[a])},matcher:function(a){return-1!==a.toLowerCase().indexOf(this.query.trim().toLowerCase())},sorter:function(a){return a.sort()},highlighter:function(a){var b=new RegExp("("+this.query+")","gi");return a.replace(b,"<strong>$1</strong>")}})),e.$container.on("click",a.proxy(function(){a("input",e.$container).focus()},e)),e.$container.on("keydown","input",a.proxy(function(b){var c=a(b.target);switch(b.which){case 8:if(0===f(c[0])){var d=e.items();d[0]&&e.remove(d[d.length-1])}break;case 37:var g=c.prev();0===c.val().length&&g[0]&&(g.before(c),c.focus());break;case 39:var h=c.next();0===c.val().length&&h[0]&&(h.after(c),c.focus());break;case 13:e.options.source||(e.add(c.val()),c.val(""))}c.attr("size",Math.max(1,c.val().length))},e)),e.$container.on("click","[data-role=remove]",a.proxy(function(b){var c=a(b.target).closest(".tag");e.remove(c.data("item"))},e))},destroy:function(){var a=this;a.$container.off("keypress","input"),a.$container.off("click","[data-role=remove]"),a.$container.remove(),a.$element.removeData("tagsinput"),a.$element.show()}},a.fn.tagsinput=function(c,d){var e=[];return this.each(function(){var f=a(this).data("tagsinput");if(f){var g=f[c](d);void 0!==g&&e.push(g)}else f=new b(this,c),a(this).data("tagsinput",f),e.push(f),"SELECT"===this.tagName&&a("option",a(this)).attr("selected","selected"),a(this).val(a(this).val())}),"string"==typeof c?e.length>1?e:e[0]:e},a.fn.tagsinput.Constructor=b;var h=a.fn.val;a.fn.val=function(b,c){return arguments.length?(c||this.each(function(){var c=a(this).data("tagsinput");c&&a.each(a.makeArray(b),function(a,b){c.add(b)})}),h.call(this,b)):h.call(this)};var i=a("<div />");a(function(){a("input[data-role=tagsinput], select[multiple][data-role=tagsinput]").tagsinput()})}(window.jQuery);
/*
//@ sourceMappingURL=bootstrap-tagsinput.min.js.map
*/